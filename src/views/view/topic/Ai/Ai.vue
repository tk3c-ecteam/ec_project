<script setup>
import { useHead, useScript } from "unhead";
import listF from '../layout/listF';

//META DESCRIPTION 
useHead({
  title: "請支援AI開學季 | 燦坤線上購物",
  meta: [
    {
      name: 'description',
      content: '請支援AI開學季， 指定機抽BOSE耳機，滿額登記再送好禮！',
    }
    ,{
      property:'og:title',
      content:'請支援AI開學季 | 燦坤線上購物'
    },
    {
      property:'og:description',
      content:'請支援AI開學季， 指定機抽BOSE耳機，滿額登記再送好禮！'
    },
    {
      property:'og:image',
      content:'https://www.tk3c.com/images/headimg.jpg'
    },
    {
      property:'og:url',
      content:'https://events.tk3c.com/events_net/2024083C/index.html'
    }
  ]
});
</script>

<script> 
import { globalMixin } from "../../../globalMixin.js";

   export default {
    mixins: [globalMixin],
    data() {
      return {
        tabs:[
          {
            0: [
              {
                "title": "2024083C/images/ai/S2.png",
                "url": "https://www.tk3c.com/dic1.aspx?cid=12504&aid=4878",
                 "content": [
                  {"url":"https://www.tk3c.com/dic1.aspx?cid=12504&aid=4878", "image": "2024083C/images/ai/S2-b-01.png","menu":7267 },
                  {"url":"https://www.tk3c.com/dic1.aspx?cid=12504&aid=4878","image": "2024083C/images/ai/S2-b-02.png","menu":7268 },
                ]
              },
            ],
            1: [
              {
                "title": "2024083C/images/ai/S3.png",
                "url": "https://www.tk3c.com/dictitleurl.aspx?cid=117913",
                 "content": [
                  { "url": "https://www.tk3c.com/dictitleurl.aspx?cid=117913", "image": "2024083C/images/ai/S3-b-01.png","menu":7269 },
                  {  "url": "https://www.tk3c.com/dictitleurl.aspx?cid=117913","image": "2024083C/images/ai/S3-b-02_a.png","menu":7270 },
                   { "url": "https://www.tk3c.com/dictitleurl.aspx?cid=117913", "image": "2024083C/images/ai/S3-b-03.png","menu":7271 },
                ]
              },
            ],
            2: [
              {
                "title": "2024083C/images/ai/S5.png",
                "url":"https://www.tk3c.com/dic1.aspx?cid=11124&aid=22124",
                "content": [
                  {"url":"https://www.tk3c.com/dic1.aspx?cid=11124&aid=22124", "image": "2024083C/images/ai/S5-b-01.png","menu":7272 },
                  { "url":"https://www.tk3c.com/dic1.aspx?cid=11124&aid=22124","image": "2024083C/images/ai/S5-b-02_a.png" ,"menu":7273},
                  { "url":"https://www.tk3c.com/dic1.aspx?cid=11124&aid=22124", "image": "2024083C/images/ai/S5-b-03.png","menu":7274 }
                ]
              }
            ],
            3: [
              {
                "title": "2024083C/images/ai/S6.png",
                "url": "https://www.tk3c.com/dic2.aspx?cid=12504&aid=4937&hid=12644",
                "content": [
                  {"url": "https://www.tk3c.com/dic2.aspx?cid=12504&aid=4937&hid=12644", "image": "2024083C/images/ai/S6-b-01.png","menu":7275 },
                  {"url": "https://www.tk3c.com/dic2.aspx?cid=12504&aid=4937&hid=12644", "image": "2024083C/images/ai/S6-b-02.png","menu":7276 },
                ]
              }
            ],
            4: [
              {
                "title": "2024083C/images/ai/S7.png",
                "url": "https://www.tk3c.com/dictitleurl.aspx?cid=114130",
                 "content": [
                  {"url": "https://www.tk3c.com/dictitleurl.aspx?cid=114130", "image": "2024083C/images/ai/S7-b-01.png","menu":7277 },
                  {"url": "https://www.tk3c.com/dictitleurl.aspx?cid=114130", "image": "2024083C/images/ai/S7-b-02.png","menu":7278 },
                ]
              }
            ],
            5: [
              {
                "title": "2024083C/images/ai/S8.png",
                "url": "https://www.tk3c.com/dictitleurl.aspx?cid=117896",
                 "content": [
                  { "url": "https://www.tk3c.com/dictitleurl.aspx?cid=117896","image": "2024083C/images/ai/S8-b-01.png","menu":7279 },
                  { "url": "https://www.tk3c.com/dictitleurl.aspx?cid=117896","image": "2024083C/images/ai/S8-b-02.png","menu":7280 },
                   {"url": "https://www.tk3c.com/dictitleurl.aspx?cid=117896", "image": "2024083C/images/ai/S8-b-03.png","menu":7281 },
                ]
              },
            ]
          }
        ],
        tab2:[
          {
            0: [
              {
                "title": "2024083C/images/ai/S9.png",
                "url": "https://www.tk3c.com/dic1.aspx?cid=83198&aid=18620",
                "content": [
                  { "url": "https://www.tk3c.com/dictitleurl.aspx?cid=43403", "image": "2024083C/images/ai/S9-b-01.png", "menu": 7283 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=43403&aid=17260", "image": "2024083C/images/ai/S9-b-02.png", "menu": 7282 },
                  { "url": "https://www.tk3c.com/dic2.aspx?cid=43403&aid=11540&hid=122542", "image": "2024083C/images/ai/S9-b-03.png", "menu": 7284 },
                  { "url": "https://www.tk3c.com/dic2.aspx?cid=43403&aid=11540&hid=122073", "image": "2024083C/images/ai/S9-b-04.png", "menu": 7285 },
                ]
              },
            ],
            1: [
              {
                "title": "2024083C/images/ai/go_title.png",
                "url": "https://events.tk3c.com/events_net/tk3c_fastdelivery/index.html",
                "menu": 7357
              },
            ],
            2: [
              {
                "title": "2024083C/images/ai/S10.png",
                "content": [
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=14719&aid=10020", "image": "2024083C/images/ai/S10-b-01.png", "menu": 7286 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=14719&aid=6040", "image": "2024083C/images/ai/S10-b-02.png", "menu": 7287 },
                ]
              }
            ],
            3: [
              {
                "title": "2024083C/images/ai/S11.png",
                "content": [
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=117896&aid=23571", "image": "2024083C/images/ai/S11-b-01.png", "menu": 7288 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=117896&aid=22551", "image": "2024083C/images/ai/S11-b-02.png", "menu": 7289 },
                ]
              }
            ],
            4: [
              {
                "title": "2024083C/images/ai/S12.png",
                "content": [
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=12356&aid=4855", "image": "2024083C/images/ai/S12-b-01.png", "menu": 7290 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=12356&aid=4853", "image": "2024083C/images/ai/S12-b-02.png", "menu": 7291 },
                ]
              }
            ],
            5: [
              {
                "title": "2024083C/images/ai/S13.png",
                "content": [
                  { "url": "https://www.tk3c.com/dictitleurl.aspx?cid=19729", "image": "2024083C/images/ai/S13-b-01.png", "menu": 7292 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=43403&aid=11545", "image": "2024083C/images/ai/S13-b-02.png", "menu": 7293 },
                ]
              }
            ],
            6: [
              {
                "title": "2024083C/images/ai/S14.png",
                "content": [
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=11684&aid=4762", "image": "2024083C/images/ai/S14-b-01.png", "menu": 7294 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=108783&aid=22323", "image": "2024083C/images/ai/S14-b-02.png", "menu": 7295 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=11684&aid=4761", "image": "2024083C/images/ai/S14-b-03.png", "menu": 7296 },
                  { "url": "https://www.tk3c.com/dic1.aspx?cid=108783&aid=22325", "image": "2024083C/images/ai/S14-b-04.png", "menu": 7297 },
                ]
              }
            ],
            7: [
              {
                "title": "2024083C/images/ai/S15.png",
                "url": "https://www.tk3c.com/dic2.aspx?cid=44823&aid=22525&hid=121385",
                "menu": 7298
              }
            ]
          }
        ],
        status:0,
        pro: [
          { "url": "https://www.tk3c.com/pt.aspx?pid=238947", "image": "2024083C/images/ai/238947.png" },
          { "url": "https://www.tk3c.com/pt.aspx?pid=243162", "image": "2024083C/images/ai/243162.png" },
          { "url": "https://www.tk3c.com/pt.aspx?pid=247324", "image": "2024083C/images/ai/247324.png" },
        ],
        statusGift:1,
          gifts:[
            { "url":"https://www.tk3c.com/dic1.aspx?cid=121466&aid=23844","image": "2024083C/images/ai/a-e1.png"},
            { "url":"https://www.tk3c.com/dic1.aspx?cid=121466&aid=23845","image": "2024083C/images/ai/a-e2.png"},
            { "url":"https://www.tk3c.com/dic1.aspx?cid=121466&aid=23566","image": "2024083C/images/ai/a-e3.png"},
            { "url":"https://www.tk3c.com/dic2.aspx?cid=121466&aid=23847&hid=123633","image": "2024083C/images/ai/a-e4.png"},
            { "url":"https://www.tk3c.com/dic2.aspx?cid=11124&aid=22469&hid=123687&strPreView=y","image": "2024083C/images/ai/a-e5_3.png", "class":"muti"},
            { "url":"https://www.tk3c.com/dic2.aspx?cid=121466&aid=23847&hid=123246","image": "2024083C/images/ai/a-e6.png","class":"muti"},
          ],
           banner1: [
            { "url": "https://www.tk3c.com/dic1.aspx?cid=44823&aid=23793", "image": "202405_shopping/images/samsung240527.jpg" },
            { "url": "https://www.tk3c.com/dic2.aspx?cid=11124&aid=22469&hid=120108", "image": "202404_green/images/bn_nbsaleM.jpg" },
          ],
          banner2: [
             { "url": "https://www.tk3c.com/dic1.aspx?cid=11124&aid=22124", "image": "202404_green/images/bn_tesnbM.jpg" },
          ],
          tabStatus:null,
        }
    },
    created() {
      let styles = [
        "https://www.tk3c.com/images/headimg.jpg",
        "https://events.tk3c.com/events_net/events_net/2024083C/css/ai_school.css"
      ];
    },
    mounted() {
      const {tabs,tab2,menu1,product1} = this;

      document.querySelectorAll('.wrapper')[1].innerHTML = "";

     //撈取筆電區樓層商品
     for (const [t, tab] of Object.entries(tabs[0])) {
      this.getFloorSingle(tab[0].content[0].menu);
     }

     //撈取周邊區樓層商品
      for (const [t, t2] of Object.entries(tab2[0])) {
        if (t2[0].content != undefined) {
           this.getFloorSingle(t2[0].content[0].menu);
        } else {
          this.getFloorSingle(t2[0].menu);
        }
       
      }

      //預設顯示頁籤第一個內容
       $all('.product-area .tab-area').forEach((tab,t) => {
         if (tab.querySelectorAll('.tab-content').length > 0) {
           tab.querySelectorAll('.tab-content')[0].style.display = 'block';
         }
       });

    },
    updated() {
     this.tabSlide2(0);
    },
  methods: {
    //應援指南頁籤切換
    changeGift(id) {
      (this.statusGift == id ? this.statusGift = null : this.statusGift = id);
    },
    change(id,menu) {

     if (event) {
        let current = event.currentTarget,
          parentAr = current.parentNode.parentNode.parentNode.parentNode,
          parentClass = parentAr.getAttribute('class'),
          parentName = parentClass.substr(16);

           this.tabSlide2(id);
           this.showAndHide(id, `.${parentName}`);
           
          this.getFloorSingle(menu);
      }
    },
    tabSlide2(id) {
      let tabStatus = this.tabStatus;
      document.querySelectorAll('.tab-area').forEach((el,t) => {
        if (t != 6 && t != 12) {
         setTimeout(() => {
           tabStatus = new Swiper(`.tab-area .tab`, {
             loop: false,
             spaceBetween: 10,
             breakpoints: {
               0: {
                 slidesPerView: 2.2,
               },
               600: {
                 slidesPerView: 3.5,
               },
               992: {
                 slidesPerView: 4,
               },
             },
           });


           // tabStatus.loopDestroy();
           // tabStatus.update();
           // tabStatus.slideTo(id);
         }, 20);
        }
      });
    },
    goNB() {
      //跳轉到組裝機樓層
      this.statusGift = 1;

      let tab6 = document.querySelector('#tab6'),
        rect = tab6.getBoundingClientRect(),
        move = rect.top + window.scrollY;

      window.location.href = 'https://events.tk3c.com/events_net/2024083C/index.html#tab5';
    },
    alert(id) {
      //活動辦法
      let infoHtml = "";

      if (id == 1) {
        infoHtml = `
          <img width="100%" src="https://events.tk3c.com/events_net/events_net/IGD2024/images/Game_bundle.jpg">
        `;
      } else {
        infoHtml = `
        <iframe width="100%" height="500" src="https://events.tk3c.com/events_net/events_net/IGD2024/info.pdf"></iframe>
      `;
      }

      Swal.fire({
        width: 1200,
        title: "<p style='margin-bottom:5px';>活動詳情</p>",
        html: infoHtml,
        confirmButtonText: "關閉",
        position: 'center',
        showCloseButton: true,
        returnFocus: false,
      });
    }
  }
   }
</script>

<style>
.product-area .tab .swiper-wrapper {
  justify-content: center;
}
</style>

<template>
  <div id="ai-container">
    <div class="background">
      <h2 class="title"><img :src="$filters.siteUrl('2024083C/images/ai/title.png')" /></h2>


      <div class="product pro-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide" v-for="p in pro">
            <a :href="$filters.addGALink(p.url)" target="_blank">
              <img :src="$filters.siteUrl(p.image)">
            </a>
          </div>
        </div>
      </div>
    </div>

    <p class="item left"><img :src="$filters.siteUrl('2024083C/images/ai/aside_left.png')" />
    </p>
    <p class="item right"><img :src="$filters.siteUrl('2024083C/images/ai/aside_right.png')" />
    </p>

    <!--  應援指南 -->
    <section class="gift-box">
      <h2 class="title">
        <img :src="$filters.siteUrl('2024083C/images/ai/es.png')">
      </h2>

      <ul class="tab m:0|auto|1% m:0|auto|2%@<992 gap:10 gap:5@<576">
        <li class="w:40vw@<576" :class="[statusGift == 1 ? 'active' : '']">
          <a @click="changeGift(1)"> <img :src="$filters.siteUrl('2024083C/images/ai/es-a-01.png')"></a>
        </li>
        <li class="w:40vw@<576" :class="[statusGift == 2 ? 'active' : '']">
          <a @click="changeGift(2)"> <img :src="$filters.siteUrl('2024083C/images/ai/es-b-02.png')"></a>
        </li>
      </ul>

      <!-- 筆電 -->
      <div class="tab-content" v-if="statusGift == 1">
        <ul class="gap:10">
          <li v-for="(gift,g) in gifts" :class="[gift.class ? gift.class : '']" class="w:30% w:90vw@<576 mb:2%@<576">
            <a v-if="g == 4" :href="$filters.addGALink(gift.url)" target="_blank">
              <img :src="$filters.siteUrl(gift.image)">
              <div class="links">
                <a :href="$filters.addGALink(gift.url)" target="_blank"></a>
                <a @click.prevent="alert(1)"></a>
              </div>
            </a>
            <a v-else-if="g == 5" :href="$filters.addGALink(gift.url)" target="_blank">
              <img :src="$filters.siteUrl(gift.image)">
              <div class="links">
                <a :href="$filters.addGALink(gift.url)" target="_blank"></a>
                <a @click.prevent="alert(2)"></a>
              </div>
            </a>
            <a v-else :href="$filters.addGALink(gift.url)" target="_blank">
              <img :src="$filters.siteUrl(gift.image)">
            </a>
          </li>
        </ul>
      </div>

      <!-- 週邊 -->
      <div class="tab-content" v-if="statusGift == 2">
        <ul class="gap:10">
          <li class="w:44.5% w:90vw@<576">
            <a target="_blank">
              <img :src="$filters.siteUrl('2024083C/images/ai/b-e1.png')">
            </a>
          </li>
          <li class="w:45% w:90vw@<576 flex flex:col">
            <a @click="goNB" class="mb:2%@<576">
              <img :src="$filters.siteUrl('2024083C/images/ai/b-e2.png')">
            </a>
            <a href="#tab12">
              <img :src="$filters.siteUrl('2024083C/images/ai/b-e3.png')">
            </a>
          </li>
        </ul>
      </div>
    </section>

    <!-- 筆電樓層區 -->
    <div class="pro1 product-area" v-show="statusGift == 1">
      <section class="tab-area scroll" v-for="(tab, t) in tabs[0]" :key="t" :class="`tab${Number(t) + 1}-box`"
        :id="`tab${Number(t) + 1}`">
        <h2 class="title">
          <a :href="$filters.addGALink(tab[0].url)">
            <img :src="$filters.siteUrl(tab[0].title)"></a>
        </h2>
   
         <ul class="tab">
          <div class="swiper-wrapper">
            <div class="swiper-slide" v-for="(content, c) in tab[0].content" :class="[status == c ? 'active' : '']">
              <a :href="$filters.addGALink(content.url)" @click.prevent="change(c,content.menu)">
                <img :src="$filters.siteUrl(content.image)">
              </a>
            </div>
          </div>
         </ul> 


        <div class="tab-content" v-if="tab[0].content != undefined" v-for="(content, c) in tab[0].content">
          <component :is="listF" :pro="product2[content.menu]"></component>
        </div>
      </section>
    </div>

    <!-- 周邊樓層區 -->
    <div class="pro2 product-area" v-show="statusGift == 2">
      <section class="tab-area scroll" v-for="(t2, t) in tab2[0]" :key="t" :class="`tab${Number(t) + 7}-box`"
        :id="`tab${Number(t) + 7}`">

        <h2 class="title">
          <a :href="$filters.addGALink(t2[0].url)">
            <img :src="$filters.siteUrl(t2[0].title)"></a>
        </h2>

        <ul class="tab" v-if="t2[0].content != undefined">
          <div class="swiper-wrapper">
            <div class="swiper-slide" v-for="(content, c) in t2[0].content" :class="[status == c ? 'active' : '']">
              <a :href="$filters.addGALink(content.url)" @click.prevent="change(c,content.menu)">
                <img :src="$filters.siteUrl(content.image)">
              </a>
            </div>
          </div>
        </ul>



        <div class="tab-content" v-for="(content2, c) in t2[0].content" v-if="t2[0].content != undefined">
          <component :is="listF" :pro="product2[content2.menu]"></component>
        </div>

        <div class="single-content" v-else>
          <component :is="listF" :pro="product2[t2[0].menu]" :isSwiper="1"></component>
        </div>
      </section>
    </div>

    <!-- 熱門活動 -->
    <section class="event-box" id="event">
      <div class="content w:full flex gap:10 m:auto">
        <div class="banner1-container w:25vw w:44vw@<992 w:95vw@<576 mb:2%@<576">
          <div class="swiper-wrapper">
            <div class="swiper-slide" v-for="b1 in banner1">
              <a :href="$filters.addGALink(b1.url)" target="_blank">
                <img :src="$filters.siteUrl(b1.image)">
              </a>
            </div>
          </div>
        </div>
        <div class="banner2-container w:25vw w:44vw@<992 w:95vw@<576 mb:2%@<576">
          <div class="swiper-wrapper">
            <div class="swiper-slide" v-for="b2 in banner2">
              <a :href="$filters.addGALink(b2.url)" target="_blank">
                <img :src="$filters.siteUrl(b2.image)">
              </a>
            </div>
          </div>
        </div>
      </div>

    </section>

  </div>

  <!-- 右側選單 -->
  <aside class="aside-container">
    <span class="collaspe"><i class="fas fa-chevron-right"></i></span>
    <div class="aside-wrap">
      <h3 class="aside-header"></h3>
      <div class="aside-content">
        <ul class="a1" v-if="statusGift == 1">
          <li><a href="#tab1">輕薄商務</a></li>
          <li><a href="#tab2">飆速電競</a></li>
          <li><a href="#tab3">特仕改裝升級</a></li>
          <li><a href="#tab4">精選螢幕</a></li>
          <li><a href="#tab5">高效桌機</a></li>
          <li><a href="#tab6">DIY零組件</a></li>
          <li><a href="#event">熱門活動 </a></li>
        </ul>
        <ul class="a2" v-if="statusGift == 2">
          <li><a href="#tab7">Wi-Fi路由器</a></li>
          <li><a href="#tab8">速速GO</a></li>
          <li><a href="#tab9">鍵盤滑鼠</a></li>
          <li><a href="#tab10">硬碟</a></li>
          <li><a href="#tab11">隨身碟/記憶卡</a></li>
          <li><a href="#tab12">投影機/監控設備</a></li>
          <li><a href="#tab13">辦公設備</a></li>
          <li><a href="#tab14">出清搶便宜 </a></li>
          <li><a href="#event">熱門活動 </a></li>
        </ul>
      </div>
      <a href="#" class="go-top">GO TOP</a>
    </div>
  </aside>

</template>

